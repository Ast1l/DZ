<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест ЗИ: Урок 1–2</title>
    <style>
        body {background:#000;color:#0f0;font-family:'Courier New',monospace;margin:0;padding:20px;line-height:1.6;}
        .container {max-width:900px;margin:0 auto;background:rgba(10,10,10,0.95);padding:30px;border-radius:15px;border:2px solid #0f0;box-shadow:0 0 30px #0f0;}
        h1 {text-align:center;color:#0f0;text-shadow:0 0 20px #0f0;font-size:2.5em;animation:pulse 2s infinite;}
        @keyframes pulse {0%{text-shadow:0 0 20px #0f0;}50%{text-shadow:0 0 40px #0f0,0 0 60px #0f0;}100%{text-shadow:0 0 20px #0f0;}}
        .timer {text-align:center;font-size:1.8em;margin:20px 0;text-shadow:0 0 10px #0f0;}
        .progress {text-align:center;margin:15px 0;font-size:1.2em;}
        .question-block {background:#111;padding:25px;margin:20px 0;border-radius:10px;border:1px solid #0f0;min-height:300px;}
        .options label {display:block;margin:15px 0;padding:14px;background:#000;border:1px solid #333;border-radius:8px;cursor:pointer;transition:all 0.3s;}
        .options label:hover {background:#003300;border-color:#0f0;}
        .options input[type="radio"] {margin-right:10px;}
        .selected-correct {background:#004400 !important;border-color:#0f0 !important;}
        .selected-wrong {background:#440000 !important;border-color:#f00 !important;}
        .nav-buttons {text-align:center;margin:30px 0;}
        button {background:#0f0;color:#000;border:none;padding:14px 28px;font-size:1.2em;cursor:pointer;border-radius:5px;margin:0 10px;box-shadow:0 0 20px #0f0;font-weight:bold;}
        button:hover:not(:disabled) {background:#00ff00;}
        button:disabled {background:#003300;cursor:not-allowed;opacity:0.6;}
        .result {font-size:2em;text-align:center;margin:40px 0;padding:30px;border:2px solid #0f0;border-radius:15px;animation:pulse 3s infinite;}
        input#name {width:100%;padding:15px;background:#000;border:1px solid #0f0;color:#0f0;font-size:1.3em;text-align:center;border-radius:8px;margin:20px 0;}
        footer {text-align:center;margin-top:50px;color:#0f0;font-size:1.2em;}
    </style>
</head>
<body>
    <div class="container">
        <h1>ТЕСТ ПО ЗИ: УРОК 1–2</h1>
        <div class="timer" id="timer">10:00</div>
        <div class="progress" id="progress"></div>
        <!-- Экран ввода ФИО -->
        <div id="fioScreen">
            <h2 style="text-align:center;">Введите ваши ФИО</h2>
            <input type="text" id="name" placeholder="Иванов Иван Иванович" autocomplete="off">
            <div class="nav-buttons">
                <button onclick="startQuiz()">Начать тест</button>
            </div>
        </div>
        <!-- Экран теста -->
        <div id="quizScreen" style="display:none;">
            <div class="question-block" id="questionContainer"></div>
            <div class="nav-buttons">
                <button id="prevBtn" onclick="prevQuestion()" disabled>Назад</button>
                <button id="nextBtn" onclick="nextQuestion()">Вперёд</button>
            </div>
        </div>
        <!-- Результат -->
        <div id="resultScreen" class="result" style="display:none;">
            <h2 id="finalName"></h2>
            <h2 id="finalText">Тест завершён!</h2>
            <p id="scoreText" style="font-size:1.8em;"></p>
            <button onclick="location.reload()">Пройти заново</button>
        </div>
    </div>
    <footer>Автор: Стиль Андрей | 2025</footer>
    <script>
        const questions = [
            {q: "Где в Kaspersky Security Center находится журнал событий?", options: ["Мониторинг → Журнал событий","Отчёты → Аудит","Администрирование → События","Устройства → Журнал"], correct: 0},
            {q: "Как в FortiGate открыть список политик firewall?", options: ["Policy & Objects → Firewall Policy","Security Profiles → Policies","System → Feature Visibility","Dashboard → Policies"], correct: 0},
            {q: "Где в Palo Alto находится журнал угроз?", options: ["Monitor → Logs → Threat","Dashboard → ACC","Policies → Security","Device → Log Settings"], correct: 0},
            {q: "В Check Point SmartConsole где редактировать правила?", options: ["Security Policies → Access Control","Logs & Monitor → Logs","Gateways & Servers","SmartDashboard"], correct: 0},
            {q: "Где в Cisco FMC редактировать политику доступа?", options: ["Policies → Access Control → Policy","Analysis → Events","Objects → Management","System → Configuration"], correct: 0},
            {q: "Где в UserGate находится журнал угроз?", options: ["Мониторинг → Журнал угроз","События → Все события","Отчёты → Статистика","Библиотека → Сигнатуры"], correct: 0},
            {q: "В PT NAD где смотреть активные сессии?", options: ["Сеть → Активные сессии","Мониторинг → Сессии","Узлы → Состояние","Отчёты → Сессии"], correct: 0},
            {q: "Где в Ideco UTM список активных VPN?", options: ["VPN → Активные подключения","Пользователи → VPN","Сеть → Туннели","Мониторинг → VPN"], correct: 0},
            {q: "В Elasticsearch+Kibana основной дашборд находится в разделе:", options: ["Dashboard","Discover","Security → Timelines","Stack Monitoring"], correct: 0},
            {q: "Где в FortiGate посмотреть текущий трафик в реальном времени?", options: ["Dashboard → FortiView","Monitor → Routing Monitor","Log & Report → Local Traffic","System → Status"], correct: 0},
            {q: "В Kaspersky Security Center список устройств находится в:", options: ["Устройства → Управляемые устройства","Мониторинг → Устройства","Отчёты → Инвентаризация","Администрирование → Узлы"], correct: 0},
            {q: "Где в Check Point SmartConsole журнал логов?", options: ["Logs & Monitor → Logs","Security Policies → Logs","Monitor → Events","SmartView Tracker"], correct: 0},
            {q: "В Palo Alto вкладка с интерфейсами называется:", options: ["Network → Interfaces","Device → Network","Policies → Network","Objects → Interfaces"], correct: 0},
            {q: "Где в Cisco FMC объекты адресов?", options: ["Objects → Object Management → Address","Policies → Objects","Analysis → Objects","System → Objects"], correct: 0},
            {q: "Как в UserGate включить веб-фильтрацию?", options: ["Контент-фильтрация → Профили","Библиотека → URL-листы","Пользователи → Группы","Защита → Веб"], correct: 0},
            {q: "Где в FortiGate настроить NAT в политике?", options: ["Policy & Objects → Firewall Policy","Network → NAT","System → Settings","User & Authentication"], correct: 0},
            {q: "В Kaspersky Security Center задачи находятся в разделе:", options: ["Задачи","Репозиторий → Задачи","Устройства → Задачи","Мониторинг → Задачи"], correct: 0},
            {q: "Где в Palo Alto вкладка Device → Setup?", options: ["Настройки устройства","Политики безопасности","Объекты","Мониторинг"], correct: 0},
            {q: "Как в Check Point установить политику?", options: ["Install Policy (в верхнем меню)","Publish","Save Policy","Push Policy"], correct: 0},
            {q: "Где в Cisco FMC включить File Policy?", options: ["Policies → Access Control → Malware & File","Objects → File Policies","Analysis → Files","System → AMP"], correct: 0},
            {q: "В UserGate список пользователей находится в:", options: ["Пользователи → Локальные пользователи","Аутентификация → Пользователи","Группы → Пользователи","Мониторинг → Пользователи"], correct: 0},
            {q: "Где в FortiGate список активных SSL-VPN?", options: ["VPN → SSL-VPN → Monitor","Monitor → User Monitor","Dashboard → VPN","Log & Report → VPN"], correct: 0},
            {q: "В Kaspersky отчёт по уязвимостям находится в:", options: ["Отчёты → Управление уязвимостями","Мониторинг → Уязвимости","Задачи → Сканирование","Репозиторий → Патчи"], correct: 0},
            {q: "Где в Palo Alto журнал трафика?", options: ["Monitor → Logs → Traffic","Dashboard → ACC","Policies → Security","Device → Logs"], correct: 0},
            {q: "Где в Check Point создать новое правило?", options: ["Security Policies → Access Control → New Rule","Objects → Services → New","Gateways → New","Logs → New"], correct: 0},
            {q: "Где в UserGate включить защиту от DDoS?", options: ["Защита → Анти-DDoS","Сеть → Защита","Мониторинг → DDoS","Библиотека → Сигнатуры"], correct: 0},
            {q: "В FortiGate включение IPS происходит в:", options: ["Security Profiles → Intrusion Prevention","Policy & Objects → IPS","System → Feature Visibility","User & Device"], correct: 0},
            {q: "В Kaspersky политики редактируются в разделе:", options: ["Политики","Устройства → Политики","Репозиторий → Политики","Задачи → Политики"], correct: 0},
            {q: "Где в Palo Alto вкладка Policies → Security?", options: ["Правила безопасности","NAT-правила","Объекты","Сессии"], correct: 0},
            {q: "Где в FortiGate включить Web Filter?", options: ["Security Profiles → Web Filter","Policy & Objects → Web Filter","System → Feature Visibility","User & Authentication"], correct: 0},
            {q: "В Kaspersky контроль устройств включается в:", options: ["Политики → Контроль устройств","Устройства → Контроль","Администрирование → Контроль","Мониторинг → Контроль"], correct: 0},
            {q: "Где в Cisco FMC настроить NAT?", options: ["Policies → NAT","Objects → NAT","Policies → Access Control","System → NAT"], correct: 0},
            {q: "В UserGate контроль приложений включается в:", options: ["Контент-фильтрация → Приложения","Библиотека → Приложения","Защита → Приложения","Мониторинг → Приложения"], correct: 0},
            {q: "Где в FortiGate настроить HA (высокую доступность)?", options: ["System → HA","Dashboard → HA","Network → HA","System → Settings"], correct: 0},
            {q: "В Kaspersky лицензии находятся в разделе:", options: ["Администрирование → Лицензии","Репозиторий → Лицензии","Мониторинг → Лицензии","Задачи → Лицензии"], correct: 0},
            {q: "Где в Palo Alto вкладка Objects → Applications?", options: ["База приложений App-ID","Политики","Сессии","Логи"], correct: 0},
            {q: "Где в Check Point статус шлюза?", options: ["Gateways & Servers","Logs & Monitor","System → Health","Dashboard"], correct: 0},
            {q: "В UserGate URL-листы находятся в:", options: ["Библиотека → URL-листы","Контент-фильтрация → URL","Защита → URL","Мониторинг → URL"], correct: 0},
            {q: "Где в FortiGate журнал локального трафика?", options: ["Log & Report → Local Traffic","Dashboard → Traffic","Monitor → Forward Traffic","System → Logs"], correct: 0},
            {q: "В Kaspersky задачу обновления создают в:", options: ["Задачи → Создать → Обновление баз","Репозиторий → Обновления","Мониторинг → Обновления","Администрирование → Обновления"], correct: 0},
            {q: "Где в Palo Alto управление сертификатами?", options: ["Device → Certificate Management","Policies → Certificates","Objects → Certificates","Network → SSL"], correct: 0},
            {q: "В Check Point SmartLog открывается из:", options: ["Logs & Monitor → SmartLog","Logs → Open SmartLog","SmartView Tracker","Dashboard"], correct: 0},
            {q: "Где в Cisco FMC журнал корреляций событий?", options: ["Analysis → Intrusions → Events","Analysis → Unified Events","Policies → Correlation","Objects → Events"], correct: 0},
            {q: "В UserGate список заблокированных IP находится в:", options: ["Мониторинг → Черный список","Защита → Блокировка","События → Блокировки","Отчёты → Блокировки"], correct: 0},
            {q: "Где в FortiGate настроить статические маршруты?", options: ["Network → Static Routes","Policy & Objects → Routes","System → Routing","Dashboard → Routes"], correct: 0},
            {q: "В Kaspersky где посмотреть активные угрозы?", options: ["Мониторинг → Активные угрозы","Отчёты → Угрозы","Задачи → Сканирование","Устройства → Угрозы"], correct: 0},
            {q: "Где в Palo Alto вкладка ACC (Application Command Center)?", options: ["Dashboard → ACC","Monitor → ACC","Policies → ACC","Device → ACC"], correct: 0},
            {q: "В Check Point где создать новый объект?", options: ["Objects → Objects → New","Security Policies → Objects","Gateways → New Object","Logs → New"], correct: 0},
            {q: "Где в Cisco FMC настроить SSL-дешифрование?", options: ["Policies → Access Control → SSL","Objects → SSL Policy","Analysis → SSL","System → SSL"], correct: 0},
            {q: "В UserGate где настроить почтовые уведомления?", options: ["Администрирование → Уведомления","Мониторинг → Уведомления","Система → Почта","Отчёты → Уведомления"], correct: 0}
        ];

        let selectedQuestions = [];
        let currentQuestion = 0;
        let answers = new Array(10).fill(null); // индекс выбранного ответа или null
        let userName = "";
        let timerInterval;
        let timeLeft = 600; // 10 минут = 600 сек

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const mins = String(Math.floor(timeLeft / 60)).padStart(2, '0');
                const secs = String(timeLeft % 60).padStart(2, '0');
                document.getElementById('timer').textContent = `${mins}:${secs}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endQuiz(true);
                }
            }, 1000);
        }

        function startQuiz() {
            userName = document.getElementById('name').value.trim();
            if (!userName) {
                alert("Пожалуйста, введите ФИО!");
                return;
            }
            // Выбираем 10 случайных вопросов
            const shuffled = [...questions];
            shuffle(shuffled);
            selectedQuestions = shuffled.slice(0, 10);
            // Перемешиваем варианты ответов
            selectedQuestions.forEach(q => {
                const mixed = q.options.map((text, i) => ({text, correct: i === q.correct}));
                shuffle(mixed);
                q.shuffled = mixed;
            });
            document.getElementById('fioScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            startTimer();
            showQuestion(0);
        }

        function showQuestion(n) {
            currentQuestion = n;
            const q = selectedQuestions[n];
            const container = document.getElementById('questionContainer');
            document.getElementById('progress').textContent = `Вопрос ${n + 1} из 10`;
            container.innerHTML = `
                <h2>${n + 1}. ${q.q}</h2>
                <div class="options">
                    ${q.shuffled.map((opt, i) => `
                        <label>
                            <input type="radio" name="answer" value="${i}"
                                ${answers[n] !== null ? (answers[n] === i ? 'checked' : 'disabled') : ''}>
                            ${opt.text}
                        </label>
                    `).join('')}
                </div>
            `;
            // Если уже отвечал — показываем результат
            if (answers[n] !== null) {
                const labels = container.querySelectorAll('label');
                labels.forEach((lbl, i) => {
                    lbl.querySelector('input').disabled = true;
                    if (i === answers[n]) {
                        const isCorrect = q.shuffled[i].correct;
                        lbl.classList.add(isCorrect ? 'selected-correct' : 'selected-wrong');
                    }
                });
            } else {
                // Новый вопрос — выбор один раз
                container.querySelectorAll('input[type=radio]').forEach(radio => {
                    radio.addEventListener('change', function() {
                        answers[n] = parseInt(this.value);
                        container.querySelectorAll('input[type=radio]').forEach(r => r.disabled = true);
                        this.parentElement.classList.add(
                            q.shuffled[answers[n]].correct ? 'selected-correct' : 'selected-wrong'
                        );
                    });
                });
            }
            // Кнопки
            document.getElementById('prevBtn').disabled = n === 0;
            document.getElementById('nextBtn').textContent = n === 9 ? 'Завершить тест' : 'Вперёд';
        }

        function nextQuestion() {
            if (currentQuestion < 9) {
                showQuestion(currentQuestion + 1);
            } else {
                endQuiz();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        function endQuiz(timeout = false) {
            clearInterval(timerInterval);
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            let correct = 0;
            answers.forEach((ans, i) => {
                if (ans !== null && selectedQuestions[i].shuffled[ans].correct) correct++;
            });
            document.getElementById('finalName').textContent = userName;
            document.getElementById('finalText').textContent = timeout ? "ВРЕМЯ ВЫШЛО!" : "Тест завершён!";
            document.getElementById('scoreText').innerHTML = `
                <strong>${correct} из 10</strong> правильных ответов<br><br>
                ${correct >= 9 ? "Гениально!" :
                  correct >= 8 ? "Отлично!" :
                  correct >= 6 ? "Хорошо!" :
                  correct >= 5 ? "Неплохо" : "Нужно повторить материал"}
            `;
        }
    </script>
</body>
</html>